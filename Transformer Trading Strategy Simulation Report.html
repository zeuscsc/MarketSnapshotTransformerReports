<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Annual Portfolio Performance Report</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
<style>
body {
font-family: 'Inter', sans-serif;
}
.chart-container {
position: relative;
width: 100%;
max-width: 600px;
margin-left: auto;
margin-right: auto;
height: 400px;
max-height: 50vh;
}
@media (max-width: 768px) {
.chart-container {
height: 300px;
max-height: 40vh;
}
}
</style>
</head>
<body class="bg-gray-900 text-gray-200">

<div class="container mx-auto p-4 md:p-8">
    
    <header class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight" style="color: #00F5D4;">Annual Portfolio Performance Review</h1>
        <p class="mt-4 text-lg text-gray-400">An analysis of asset performance over the past year.</p>
    </header>
    
    <section id="overview" class="mb-16">
        <h2 class="text-3xl font-bold text-center mb-8" style="color: #00CCBF;">Portfolio At-a-Glance</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
            <div class="bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col justify-center">
                <p class="text-lg font-medium text-gray-400">Total Portfolio Value</p>
                <p id="totalValue" class="text-4xl font-extrabold" style="color: #00F5D4;">$0.00</p>
            </div>
            <div class="bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col justify-center">
                <p class="text-lg font-medium text-gray-400">Overall Portfolio Return</p>
                <p id="overallReturn" class="text-4xl font-extrabold text-green-400">0.00%</p>
            </div>
            <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
                 <p class="text-lg font-medium text-gray-400 mb-2">Asset Performance Split</p>
                <div class="chart-container" style="height: 150px; max-height: 150px;">
                    <canvas id="winLossChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <section id="top-performers" class="mb-16">
        <h2 class="text-3xl font-bold text-center mb-2" style="color: #00CCBF;">ðŸš€ Top Performers</h2>
        <p class="text-center text-gray-400 mb-8">These assets led the portfolio with significant year-over-year gains, driving overall growth.</p>
        <div class="bg-gray-800 p-4 md:p-6 rounded-lg shadow-lg">
            <div class="chart-container">
                <canvas id="topPerformersChart"></canvas>
            </div>
        </div>
    </section>
    
    <section id="underperformers" class="mb-16">
        <h2 class="text-3xl font-bold text-center mb-2" style="color: #00CCBF;">ðŸ“‰ Underperformers</h2>
        <p class="text-center text-gray-400 mb-8">These assets detracted from the portfolio's performance, representing areas for strategic review.</p>
        <div class="bg-gray-800 p-4 md:p-6 rounded-lg shadow-lg">
            <div class="chart-container">
                <canvas id="underperformersChart"></canvas>
            </div>
        </div>
    </section>

    <section id="risk-analysis" class="mb-16">
        <h2 class="text-3xl font-bold text-center mb-2" style="color: #00CCBF;">Risk vs. Reward Analysis</h2>
        <p class="text-center text-gray-400 mb-8">Comparing year-over-year returns against peak-to-trough drawdowns to understand asset volatility.</p>
         <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 bg-gray-800 p-4 md:p-6 rounded-lg shadow-lg">
                <div class="chart-container" style="height: 450px; max-height: 60vh;">
                    <canvas id="riskRewardScatter"></canvas>
                </div>
            </div>
            <div class="bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col justify-center text-center">
                <p class="text-lg font-medium text-gray-400">Highest Volatility (Drawdown)</p>
                <p id="highestDrawdownTicker" class="text-5xl font-extrabold mt-2" style="color: #00F5D4;"></p>
                <p id="highestDrawdownValue" class="text-3xl font-bold text-red-400 mt-1"></p>
                <p class="text-gray-500 mt-4">This asset experienced the largest percentage drop from its peak during the period.</p>
            </div>
        </div>
    </section>

    <section id="full-report">
        <h2 class="text-3xl font-bold text-center mb-8" style="color: #00CCBF;">Detailed Performance Data</h2>
         <div class="overflow-x-auto bg-gray-800 rounded-lg shadow-lg p-4">
            <table class="w-full text-left">
                <thead class="border-b border-gray-600">
                    <tr>
                        <th class="p-3 text-sm font-semibold tracking-wide" style="color: #00F5D4;">Ticker</th>
                        <th class="p-3 text-sm font-semibold tracking-wide text-right" style="color: #00F5D4;">YoY Return (%)</th>
                        <th class="p-3 text-sm font-semibold tracking-wide text-right" style="color: #00F5D4;">Drawdown (%)</th>
                        <th class="p-3 text-sm font-semibold tracking-wide text-right" style="color: #00F5D4;">Final Value</th>
                    </tr>
                </thead>
                <tbody id="dataTableBody">
                </tbody>
            </table>
        </div>
    </section>

    <footer class="text-center mt-12 py-6 border-t border-gray-700">
        <p class="text-gray-500">Data based on internal performance logs as of June 5, 2025.</p>
        <p class="text-gray-600 text-sm mt-2">This is an auto-generated report. Not financial advice.</p>
    </footer>

</div>

<script>
    const rawData = `

ASTS   51.62%  5161.93       -18.37%         51     10000.00    15161.93
CMG    41.54%  4154.01       -10.03%         33     10000.00    14154.01
CORT   41.44%  4144.15       -10.04%         33     10000.00    14144.15
EQT    18.54%  1854.29        -7.04%         83     10000.00    11854.29
MU     17.77%  1776.75       -18.62%         54     10000.00    11776.75
NVDA   11.76%  1175.54       -15.40%         82     10000.00    11175.54
AXS    11.12%  1112.07        -4.35%        132     10000.00    11112.07
LBRDA  10.78%  1078.25        -8.52%         57     10000.00    11078.25
HIMS   10.05%  1004.59       -30.82%         24     10000.00    11004.59
CRWD    9.11%   911.33       -15.32%         70     10000.00    10911.33
BSX     8.75%   874.56        -7.21%        108     10000.00    10874.56
F       8.67%   866.72        -7.95%         87     10000.00    10866.72
KNSL    7.96%   796.24        -9.20%         72     10000.00    10796.24
EXEL    7.82%   782.26        -4.73%         99     10000.00    10782.26
MELI    7.43%   742.65        -8.10%         81     10000.00    10742.65
AR      7.40%   740.14       -10.38%         65     10000.00    10740.14
APH     6.87%   687.38        -7.79%        110     10000.00    10687.38
AVGO    6.29%   629.38       -24.08%         64     10000.00    10629.38
FTAI    6.28%   628.16       -24.79%         32     10000.00    10628.16
BA      6.24%   623.80        -9.83%         70     10000.00    10623.80
FTNT    5.93%   593.28       -11.73%         96     10000.00    10593.28
KLAC    5.92%   591.70       -11.31%         86     10000.00    10591.70
DE      5.84%   584.14        -7.68%        133     10000.00    10584.14
EAT     4.86%   485.84       -13.28%         43     10000.00    10485.84
OVV     4.65%   465.31       -11.69%         75     10000.00    10465.31
CQP     4.15%   415.33        -5.35%        110     10000.00    10415.33
NFLX    3.98%   398.25        -7.58%         64     10000.00    10398.25
BKNG    3.91%   390.77        -0.91%          1     10000.00    10390.77
LNTH    3.68%   368.31       -17.02%         47     10000.00    10368.31
INSM    2.89%   289.06        -7.61%         85     10000.00    10289.06
CHTR    2.64%   263.96        -6.86%         92     10000.00    10263.96
INTC    2.59%   258.85       -13.12%         61     10000.00    10258.85
AJG     2.29%   229.00        -4.31%        101     10000.00    10229.00
COR     2.09%   208.72        -4.85%         80     10000.00    10208.72
JPM     2.05%   204.70       -10.28%        100     10000.00    10204.70
PANW    1.77%   177.13        -7.96%         79     10000.00    10177.13
AM      1.32%   132.49        -5.77%        115     10000.00    10132.49
ADSK    1.27%   127.24       -11.12%         81     10000.00    10127.24
CSCO    1.22%   121.71        -8.82%         86     10000.00    10121.71
ETN     1.12%   112.08       -12.40%         44     10000.00    10112.08
AER     0.98%    98.31        -7.42%        149     10000.00    10098.31
AMZN    0.52%    52.38       -14.03%         93     10000.00    10052.38
CBOE    0.29%    28.78        -5.69%        108     10000.00    10028.78
BRK     0.00%     0.00         0.00%          0     10000.00    10000.00
IBM    -0.13%   -13.39        -7.92%        100     10000.00     9986.61
GOOG   -0.25%   -25.48       -13.27%         81     10000.00     9974.52
NOW    -0.30%   -30.31       -15.08%         67     10000.00     9969.69
AXP    -0.62%   -61.53       -13.39%         78     10000.00     9938.47
MTG    -0.76%   -76.44       -10.12%        115     10000.00     9923.56
MO     -0.81%   -81.47        -7.52%         88     10000.00     9918.53
MSFT   -0.89%   -89.35        -7.09%        149     10000.00     9910.65
COST   -1.02%  -102.34        -8.20%        111     10000.00     9897.66
MPC    -1.09%  -108.71       -10.79%         69     10000.00     9891.29
ORLY   -1.41%  -140.93        -4.99%        135     10000.00     9859.07
HCA    -1.77%  -177.09       -12.15%         77     10000.00     9822.91
MSI    -1.78%  -177.95        -8.39%         95     10000.00     9822.05
MS     -1.86%  -186.44       -13.83%         71     10000.00     9813.56
MPLX   -2.15%  -214.55        -6.90%        132     10000.00     9785.45
ISRG   -2.23%  -223.25       -11.41%        122     10000.00     9776.75
EG     -2.34%  -234.00        -8.03%        133     10000.00     9766.00
MSTR   -2.69%  -269.34       -25.01%         24     10000.00     9730.66
CNC    -2.83%  -283.36       -13.95%         96     10000.00     9716.64
GLD    -3.08%  -308.13        -6.57%        117     10000.00     9691.87
BAC    -3.33%  -332.69       -13.23%         83     10000.00     9667.31
NEE    -3.40%  -339.50       -10.52%         88     10000.00     9660.50
ABBV   -3.69%  -369.32        -8.67%         59     10000.00     9630.68
EWBC   -3.76%  -376.07       -14.49%         67     10000.00     9623.93
ORCL   -3.86%  -386.27       -14.33%         57     10000.00     9613.73
IBKR   -4.01%  -401.07       -20.79%         47     10000.00     9598.93
ET     -4.14%  -414.22       -11.84%        103     10000.00     9585.78
GILD   -4.26%  -426.33        -9.61%        109     10000.00     9573.67
MCK    -4.31%  -430.60        -8.01%        118     10000.00     9569.40
KO     -4.39%  -438.62        -8.66%        104     10000.00     9561.38
META   -4.49%  -449.07       -15.79%         82     10000.00     9550.93
MMC    -4.63%  -463.19        -8.02%        117     10000.00     9536.81
CG     -4.63%  -463.21       -18.54%         63     10000.00     9536.79
CB     -4.83%  -483.38        -9.56%        166     10000.00     9516.62
CTRA   -4.93%  -492.75        -9.45%         84     10000.00     9507.25
ADMA   -5.17%  -517.04       -18.79%         24     10000.00     9482.96
ACGL   -5.28%  -527.55       -12.05%         66     10000.00     9472.45
EOG    -5.35%  -534.59        -9.69%         80     10000.00     9465.41
CF     -5.52%  -552.03       -11.54%         75     10000.00     9447.97
BLK    -5.76%  -576.09       -13.65%        111     10000.00     9423.91
ESNT   -6.29%  -629.18       -11.26%         41     10000.00     9370.82
MKTX   -6.37%  -636.51       -17.26%         80     10000.00     9363.49
CVX    -6.49%  -648.59        -9.56%         82     10000.00     9351.41
ACN    -6.69%  -669.26       -13.31%         87     10000.00     9330.74
CAT    -6.97%  -697.17       -14.64%         88     10000.00     9302.83
DINO   -7.11%  -710.98       -16.86%         59     10000.00     9289.02
DVN    -7.11%  -711.39       -16.34%         70     10000.00     9288.61
ARCC   -7.20%  -720.41       -13.48%        132     10000.00     9279.59
ADBE   -7.31%  -731.15       -15.13%          5     10000.00     9268.85
DIS    -7.48%  -748.38       -16.92%        103     10000.00     9251.62
HES    -7.63%  -763.24       -12.66%         87     10000.00     9236.76
ANET   -8.29%  -828.84       -24.21%         64     10000.00     9171.16
GS     -8.32%  -831.88       -13.07%        131     10000.00     9168.12
HON    -8.35%  -835.28       -13.09%        131     10000.00     9164.72
OKE    -9.45%  -944.73       -13.08%         52     10000.00     9055.27
APO    -9.47%  -946.71       -19.83%         63     10000.00     9053.29
NKE    -9.61%  -960.96       -17.67%         42     10000.00     9039.04
DELL   -9.62%  -961.76       -23.08%         36     10000.00     9038.24
EPD    -9.71%  -970.60       -12.66%        132     10000.00     9029.40
BMY    -9.79%  -978.88       -14.17%         93     10000.00     9021.12
CDNS  -10.96% -1096.27       -13.79%         89     10000.00     8903.73
PEP   -10.99% -1099.07       -11.77%        124     10000.00     8900.93
LEN   -11.30% -1129.61       -15.55%         59     10000.00     8870.39
AMGN  -11.36% -1135.81       -15.25%         72     10000.00     8864.19
DHR   -11.63% -1162.53       -18.56%         56     10000.00     8837.47
ELV   -13.16% -1316.41       -14.21%         15     10000.00     8683.59
BX    -13.19% -1319.16       -20.52%         55     10000.00     8680.84
JNJ   -13.47% -1346.89       -14.64%        168     10000.00     8653.11
PAA   -14.07% -1406.61       -15.91%        108     10000.00     8593.39
COP   -14.44% -1443.90       -17.38%         67     10000.00     8556.10
MPWR  -14.85% -1484.74       -26.40%         35     10000.00     8515.26
KKR   -15.21% -1520.85       -25.89%         59     10000.00     8479.15
INTU  -15.28% -1528.01       -25.91%         59     10000.00     8471.99
DHI   -16.11% -1610.66       -19.44%         56     10000.00     8389.34
MRVL  -17.59% -1759.23       -33.40%         44     10000.00     8240.77
APA   -18.04% -1803.88       -26.07%         36     10000.00     8196.12
CVNA  -26.35% -2634.87       -37.17%         31     10000.00     7365.13
`;

    const data = rawData.trim().split('n').map(line => {
        const parts = line.trim().split(/s+/);
        return {
            ticker: parts[0],
            yoyReturn: parseFloat(parts[1]),
            drawdown: parseFloat(parts[3]),
            finalValue: parseFloat(parts[6])
        };
    });

    const palette = {
        primary: '#00F5D4',
        secondary: '#00CCBF',
        tertiary: '#00A3A3',
        quaternary: '#007A87',
        quinary: '#00526B',
        loss: '#FF5A5F',
        gain: '#00F5D4'
    };
    
    function formatLabel(label) {
        if (typeof label === 'string' && label.length > 16) {
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + word).length > 16) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            }
            lines.push(currentLine.trim());
            return lines;
        }
        return label;
    }

    const tooltipTitleCallback = (tooltipItems) => {
        const item = tooltipItems[0];
        let label = item.chart.data.labels[item.dataIndex];
        if (Array.isArray(label)) {
            return label.join(' ');
        }
        return label;
    };
    
    const commonChartOptions = {
         responsive: true,
         maintainAspectRatio: false,
         plugins: {
            legend: {
                labels: {
                    color: '#cbd5e1',
                    font: {
                        size: 14
                    }
                }
            },
            tooltip: {
                callbacks: {
                   title: tooltipTitleCallback
                },
                backgroundColor: 'rgba(31, 41, 55, 0.9)',
                titleFont: { size: 16, weight: 'bold' },
                bodyFont: { size: 14 },
                padding: 12,
                cornerRadius: 4,
                displayColors: false
            }
         },
        scales: {
            x: {
                ticks: { color: '#9ca3af', maxRotation: 0, autoSkip: true },
                grid: { color: 'rgba(75, 85, 99, 0.5)' }
            },
            y: {
                ticks: { color: '#9ca3af' },
                grid: { color: 'rgba(75, 85, 99, 0.5)' }
            }
        }
    };

    document.addEventListener('DOMContentLoaded', () => {
        const sortedData = [...data].sort((a, b) => b.yoyReturn - a.yoyReturn);
        const top10 = sortedData.slice(0, 10);
        const bottom10 = sortedData.slice(-10).reverse();
        
        const totalFinalValue = data.reduce((sum, item) => sum + item.finalValue, 0);
        const totalInitialValue = data.length * 10000;
        const overallReturnPercent = ((totalFinalValue - totalInitialValue) / totalInitialValue) * 100;

        document.getElementById('totalValue').textContent = `$${totalFinalValue.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
        const overallReturnEl = document.getElementById('overallReturn');
        overallReturnEl.textContent = `${overallReturnPercent.toFixed(2)}%`;
        overallReturnEl.style.color = overallReturnPercent >= 0 ? palette.gain : palette.loss;
        
        const winners = data.filter(d => d.yoyReturn >= 0).length;
        const losers = data.length - winners;

        new Chart(document.getElementById('winLossChart').getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: ['Gain', 'Loss'],
                datasets: [{
                    data: [winners, losers],
                    backgroundColor: [palette.gain, palette.loss],
                    borderColor: '#4a5568',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: true, position: 'bottom', labels: { color: '#cbd5e1' } },
                    tooltip: commonChartOptions.plugins.tooltip
                }
            }
        });
        
        new Chart(document.getElementById('topPerformersChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: top10.map(d => d.ticker),
                datasets: [{
                    label: 'YoY Return %',
                    data: top10.map(d => d.yoyReturn),
                    backgroundColor: palette.gain,
                    borderColor: palette.secondary,
                    borderWidth: 1
                }]
            },
            options: { ...commonChartOptions, indexAxis: 'y' }
        });

        new Chart(document.getElementById('underperformersChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: bottom10.map(d => d.ticker),
                datasets: [{
                    label: 'YoY Return %',
                    data: bottom10.map(d => d.yoyReturn),
                    backgroundColor: palette.loss,
                    borderColor: '#d9534f',
                    borderWidth: 1
                }]
            },
            options: { ...commonChartOptions, indexAxis: 'y' }
        });

        const scatterData = data.map(d => ({
            x: d.drawdown,
            y: d.yoyReturn,
            label: d.ticker
        }));

        new Chart(document.getElementById('riskRewardScatter').getContext('2d'), {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Asset Performance',
                    data: scatterData,
                    backgroundColor: data.map(d => d.yoyReturn >= 0 ? 'rgba(0, 245, 212, 0.7)' : 'rgba(255, 90, 95, 0.7)'),
                    pointRadius: 6,
                    pointHoverRadius: 9
                }]
            },
            options: {
                ...commonChartOptions,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            title: (tooltipItems) => {
                                return tooltipItems[0].raw.label;
                            },
                            label: (context) => {
                                return `Return: ${context.raw.y.toFixed(2)}% | Drawdown: ${context.raw.x.toFixed(2)}%`;
                            }
                        },
                         backgroundColor: 'rgba(31, 41, 55, 0.9)',
                         titleFont: { size: 16, weight: 'bold' },
                         bodyFont: { size: 14 },
                         padding: 12,
                         cornerRadius: 4,
                         displayColors: false
                    }
                },
                scales: {
                    x: {
                        ...commonChartOptions.scales.x,
                        title: {
                            display: true,
                            text: 'Drawdown (%)',
                            color: '#cbd5e1',
                            font: { size: 14, weight: 'bold' }
                        }
                    },
                    y: {
                        ...commonChartOptions.scales.y,
                        title: {
                            display: true,
                            text: 'YoY Return (%)',
                            color: '#cbd5e1',
                            font: { size: 14, weight: 'bold' }
                        }
                    }
                }
            }
        });

        const highestDrawdown = data.reduce((max, item) => Math.abs(item.drawdown) > Math.abs(max.drawdown) ? item : max, data[0]);
        document.getElementById('highestDrawdownTicker').textContent = highestDrawdown.ticker;
        document.getElementById('highestDrawdownValue').textContent = `${highestDrawdown.drawdown.toFixed(2)}%`;
        
        const tableBody = document.getElementById('dataTableBody');
        sortedData.forEach(item => {
            const row = document.createElement('tr');
            row.className = 'border-b border-gray-700 hover:bg-gray-700 transition-colors duration-200';
            
            const returnColor = item.yoyReturn >= 0 ? 'text-green-400' : 'text-red-400';

            row.innerHTML = `
                <td class="p-3 font-semibold">${item.ticker}</td>
                <td class="p-3 text-right font-medium ${returnColor}">${item.yoyReturn.toFixed(2)}%</td>
                <td class="p-3 text-right font-medium text-red-400">${item.drawdown.toFixed(2)}%</td>
                <td class="p-3 text-right font-medium">${item.finalValue.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}</td>
            `;
            tableBody.appendChild(row);
        });
    });
</script>

</body>
</html>